import Control.Monad ( (<=<) )
import Control.Lens ( view )
import Data.Text ( Text )
import qualified Data.Text as T ( concat )
import Data.Map ( Map )
import qualified Data.Map as Map ( fromList, unions )
import Data.Maybe ( maybe )
import JSDOM.Types ( File )
import JSDOM.FileReader
    ( newFileReader, readAsText, getResult, load )
import JSDOM.EventM ( on )
import Language.Javascript.JSaddle
    ( MonadJSM, liftJSM, fromJSVal, toJSVal )
import Reflex.Dom.Core
    ( MonadHold(holdDyn),
      MonadSample(sample),
      PerformEvent(Performable),
      Reflex(Event, current, PushM, Dynamic),
      DomBuilder,
      HasJSContext,
      TriggerEvent,
      pushAlways,
      wrapDomEvent,
      blank,
      button,
      el,
      widgetHold_,
      attach,
      ffor,
      fmapMaybe,
      (=:),
      decodeText,
      xhrResponse_responseText,
      postForms,
      XhrResponse,
      FormValue(..) )
import Util ( consoleLog )
import ProblemWidget.Types
    ( ConvertResponse,
      FileWithName(file, name),
      Options(files, output, random) )
