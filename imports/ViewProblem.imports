import qualified Data.Text as T ( null )
import qualified Data.Map as Map ( mapKeys )
import qualified Language.Javascript.JSaddle as JS
    ( MonadJSM, JSVal(JSVal) )
import qualified "jsaddle-dom" GHCJS.DOM.Document as DOM
    ( IsDocument )
import qualified JSDOM.Types ( File )
import qualified Data.CaseInsensitive as CI ( CI(original) )
import qualified Obelisk.Route.Frontend as Ob
    ( R, SetRoute, RouteToUrl, routeLink )
import qualified Reflex.Dom.Core as R
    ( constDyn,
      ffor,
      tagPromptlyDyn,
      blank,
      dyn_,
      elClass,
      text,
      decodeText,
      MonadHold(holdDyn),
      MonadSample,
      Reflex(updated, Dynamic, Event),
      PerformEvent(performEvent, Performable),
      PostBuild(..),
      TriggerEvent,
      HasJSContext,
      DomBuilder(DomBuilderSpace),
      DomSpace(RawDocument),
      HasDocument,
      Prerender )
import qualified MyReflex.Dom.Xhr.FormData as R'
    ( FormValue(FormValue_Text) )
import qualified Common.Route as Route
    ( ProblemsRoute(ProblemsRoute_Edit),
      TopicsRoute(TopicsRoute_Problems),
      FrontendRoute(FrontendRoute_Problems, FrontendRoute_Topics),
      Api(Api_Problems, Api_Compile),
      apiHref )
import qualified Common.Api.Compile as Compile
    ( Response(resErrorLatex, resErrorIcemaker),
      RequestParam(ParamOutputOption, ParamRandomizeVariables),
      Request(Request, outputOption, randomizeVariables),
      OutputOption(..) )
import qualified Common.Api.Problem as Problem
    ( GetParamInclude(TopicPath),
      GetParams(GetParams, gpTopic, gpInclude, gpExpand),
      Problem(author, updatedAt, summary, id, topicPath),
      getParamsToRouteQuery )
import qualified Common.Api.User as User ( User(fullName, id) )
import qualified Common.Api.Topic as Topic ( Topic(Topic) )
import qualified Problem.PdfViewer as PdfViewer ( widget )
import qualified Widget.Button as Button
    ( secondarySmall, primarySmallClass' )
import qualified Widget.Input as Input ( checkboxClass )
import qualified Problem.Loading as Loading
    ( WithLoading(WithLoading), anyLoading, latestAction )
import qualified Util
    ( getOnload,
      dynFor,
      getCurrentUser,
      formBool,
      postForm,
      notUpdatedSince )
import Global
    ( MonadFix,
      when,
      Text,
      Map,
      fromMaybe,
      unless,
      forM_,
      cs,
      (:/),
      (=:) )
